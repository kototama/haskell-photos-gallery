/*!
 * Fotorama 4.3.3 | http://fotorama.io/license/
 */
!function(a,b,c,d){"use strict";function e(a){var b="bez_"+c.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof c.easing[b]){var d=function(a,b){var c=[null,null],d=[null,null],e=[null,null],f=function(f,g){return e[g]=3*a[g],d[g]=3*(b[g]-a[g])-e[g],c[g]=1-e[g]-d[g],f*(e[g]+f*(d[g]+f*c[g]))},g=function(a){return e[0]+a*(2*d[0]+3*c[0]*a)},h=function(a){for(var b,c=a,d=0;++d<14&&(b=f(c,0)-a,!(Math.abs(b)<.001));)c-=b/g(c);return c};return function(a){return f(h(a),1)}};c.easing[b]=function(b,c,e,f,g){return f*d([a[0],a[1]],[a[2],a[3]])(c/g)+e}}return b}function f(){}function g(a,b,c){return Math.max(isNaN(b)?-1/0:b,Math.min(isNaN(c)?1/0:c,a))}function h(a){return a.match(/ma/)&&a.match(/-?\d+(?!d)/g)[a.match(/3d/)?12:4]}function i(a){return vc?+h(a.css("transform")):+a.css("left").replace("px","")}function j(a,b){var c={};return vc?c.transform="translate3d("+(a+(b?.001:0))+"px,0,0)":c.left=a,c}function k(a){return{"transition-duration":a+"ms"}}function l(a,b){return+String(a).replace(b||"px","")||d}function m(a){return/%$/.test(a)&&l(a,"%")}function n(a){return(!!l(a)||!!l(a,"%"))&&a}function o(a,b,c,d){return(a-(d||0))*(b+(c||0))}function p(a,b,c,d){return-Math.round(a/(b+(c||0))-(d||0))}function q(a){var b=a.data();if(!b.tEnd){var c=a[0],d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"};c.addEventListener(d[_.prefixed("transition")],function(a){b.tProp&&a.propertyName.match(b.tProp)&&b.onEndFn()}),b.tEnd=!0}}function r(a,b,c,d){var e,f=a.data();f&&(f.onEndFn=function(){e||(e=!0,clearTimeout(f.tT),c())},f.tProp=b,clearTimeout(f.tT),f.tT=setTimeout(function(){f.onEndFn()},1.5*d),q(a))}function s(a,b,c){if(a.length){var d=a.data();vc?(a.css(k(0)),d.onEndFn=f,clearTimeout(d.tT)):a.stop();var e=t(b,function(){return i(a)});return a.css(j(e,c)),e}}function t(){for(var a,b=0,c=arguments.length;c>b&&(a=b?arguments[b]():arguments[b],"number"!=typeof a);b++);return a}function u(a,b){return Math.round(a+(b-a)/1.5)}function v(){return v.p=v.p||("https://"===location.protocol?"https://":"http://"),v.p}function w(a){var c=b.createElement("a");return c.href=a,c}function x(a,b){if("string"!=typeof a)return a;a=w(a);var c,d;if(a.host.match(/youtube\.com/)&&a.search){if(c=a.search.split("v=")[1]){var e=c.indexOf("&");-1!==e&&(c=c.substring(0,e)),d="youtube"}}else a.host.match(/youtube\.com|youtu\.be/)?(c=a.pathname.replace(/^\/(embed\/|v\/)?/,"").replace(/\/.*/,""),d="youtube"):a.host.match(/vimeo\.com/)&&(d="vimeo",c=a.pathname.replace(/^\/(video\/)?/,"").replace(/\/.*/,""));return c&&d||!b||(c=a.href,d="custom"),c?{id:c,type:d}:!1}function y(a,b,d){var e,f,g=a.video;return"youtube"===g.type?(f=v()+"img.youtube.com/vi/"+g.id+"/default.jpg",e=f.replace(/\/default.jpg$/,"/hqdefault.jpg"),a.thumbsReady=!0):"vimeo"===g.type?c.ajax({url:v()+"vimeo.com/api/v2/video/"+g.id+".json",dataType:"jsonp",success:function(c){a.thumbsReady=!0,z(b,{img:c[0].thumbnail_large,thumb:c[0].thumbnail_small},a.i,d)}}):a.thumbsReady=!0,{img:e,thumb:f}}function z(a,b,d,e){for(var f=0,g=a.length;g>f;f++){var h=a[f];if(h.i===d&&h.thumbsReady){var i={videoReady:!0};i[Ic]=i[Kc]=i[Jc]=!1,e.splice(f,1,c.extend({},h,i,b));break}}}function A(a){function b(a,b,e){var f=a.children("img").eq(0),g=a.attr("href"),h=a.attr("src"),i=f.attr("src"),j=b.video,k=e?x(g,j===!0):!1;k?g=!1:k=j,d(a,f,c.extend(b,{video:k,img:b.img||g||h||i,thumb:b.thumb||i||h||g}))}function d(a,b,d){var e=d.thumb&&d.img!==d.thumb,f=l(d.width||a.attr("width")),g=l(d.height||a.attr("height"));c.extend(d,{width:f,height:g,thumbratio:P(d.thumbratio||l(d.thumbwidth||b&&b.attr("width")||e||f)/l(d.thumbheight||b&&b.attr("height")||e||g))})}var e=[];return a.children().each(function(){var a=c(this),f=O(c.extend(a.data(),{id:a.attr("id")}));if(a.is("a, img"))b(a,f,!0);else{if(a.is(":empty"))return;d(a,null,c.extend(f,{html:this,_html:a.html()}))}e.push(f)}),e}function B(a){return 0===a.offsetWidth&&0===a.offsetHeight}function C(a){return!c.contains(b.documentElement,a)}function D(a,b,c){a()?b():setTimeout(function(){D(a,b)},c||100)}function E(a){location.replace(location.protocol+"//"+location.host+location.pathname.replace(/^\/?/,"/")+location.search+"#"+a)}function F(a,b,c){var d=a.data(),e=d.measures;if(e&&(!d.l||d.l.W!==e.width||d.l.H!==e.height||d.l.r!==e.ratio||d.l.w!==b.w||d.l.h!==b.h||d.l.m!==c)){var f=e.width,h=e.height,i=b.w/b.h,j=e.ratio>=i,k="scaledown"===c,l="contain"===c,m="cover"===c;j&&(k||l)||!j&&m?(f=g(b.w,0,k?f:1/0),h=f/e.ratio):(j&&m||!j&&(k||l))&&(h=g(b.h,0,k?h:1/0),f=h*e.ratio),a.css({width:Math.ceil(f),height:Math.ceil(h),marginLeft:Math.floor(-f/2),marginTop:Math.floor(-h/2)}),d.l={W:e.width,H:e.height,r:e.ratio,w:b.w,h:b.h,m:c}}return!0}function G(a,b){var c=a[0];c.styleSheet?c.styleSheet.cssText=b:a.html(b)}function H(a,b,c){return b===c?!1:b>=a?"left":a>=c?"right":"left right"}function I(a,b,c){if(!c)return!1;if(!isNaN(a))return a-1;for(var d,e=0,f=b.length;f>e;e++){var g=b[e];if(g.id===a){d=e;break}}return d}function J(a,b,d){d=d||{},a.each(function(){var a,e=c(this),g=e.data();g.clickOn||(g.clickOn=!0,c.extend(T(e,{onStart:function(b){a=b,(d.onStart||f).call(this,b)},onMove:d.onMove||f,onEnd:function(c){c.moved||d.tail.checked||b.call(this,a)}}),d.tail))})}function K(a,b){return'<div class="'+a+'">'+(b||"")+"</div>"}function L(a){for(var b=a.length;b;){var c=Math.floor(Math.random()*b--),d=a[b];a[b]=a[c],a[c]=d}return a}function M(a){return"[object Array]"==Object.prototype.toString.call(a)&&c.map(a,function(a){return c.extend({},a)})}function N(a,b){rc.scrollLeft(a).scrollTop(b)}function O(a){if(a){var b={};return c.each(a,function(a,c){b[a.toLowerCase()]=c}),b}}function P(a){if(a){var b=+a;return isNaN(b)?(b=a.split("/"),+b[0]/+b[1]||d):b}}function Q(a,b){var d=Math.round(b.pos),e=b.onEnd||f;"undefined"!=typeof b.overPos&&b.overPos!==b.pos&&(d=b.overPos,e=function(){Q(a,c.extend({},b,{overPos:b.pos,time:Math.max(Cc,b.time/2)}))});var g=c.extend(j(d,b._001),{width:b.width});vc?(a.css(c.extend(k(b.time),g)),b.time>10?r(a,"transform",e,b.time):e()):a.stop().animate(g,b.time,Lc,e)}function R(a,b,d,e,g,h){var i="undefined"!=typeof h;if(i||(g.push(arguments),Array.prototype.push.call(arguments,g.length),!(g.length>1))){a=a||c(a),b=b||c(b);var j=a[0],k=b[0],l="crossfade"===e.method,m=function(){if(!m.done){m.done=!0;var a=(i||g.shift())&&g.shift();a&&R.apply(this,a),(e.onEnd||f)(!!a)}},n=e.time/(h||1);d.not(a.addClass(Sb).removeClass(Rb)).not(b.addClass(Rb).removeClass(Sb)).removeClass(Sb+" "+Rb),a.stop(),b.stop(),l&&k&&a.fadeTo(0,0),a.fadeTo(l?n:1,1,l&&m),b.fadeTo(n,0,m),j&&l||k||m()}}function S(a){var b=(a.touches||[])[0]||a;a._x=b.pageX,a._y=b.clientY}function T(d,e){function g(a){return o=c(a.target),u.checked=r=s=!1,m||u.flow||a.touches&&a.touches.length>1||a.which>1||gb&&gb.type!==a.type&&ib||(r=e.select&&o.is(e.select,t))?r:(q=a.type.match(/^t/),s=o.is("a, a *",t),S(a),n=gb=a,hb=a.type.replace(/down|start/,"move").replace(/Down/,"Move"),p=u.control,(e.onStart||f).call(t,a,{control:p,$target:o}),m=u.flow=!0,(!q||u.go)&&a.preventDefault(),void 0)}function h(a){if(a.touches&&a.touches.length>1||Ac&&!a.isPrimary||hb!==a.type||!m)return m&&i(),void 0;S(a);var b=Math.abs(a._x-n._x),c=Math.abs(a._y-n._y),d=b-c,g=(u.go||u.x||d>0)&&!u.noSwipe,h=0>d;q&&!u.checked?(m=g,m&&a.preventDefault()):(a.preventDefault(),(e.onMove||f).call(t,a,{touch:q})),u.checked=u.checked||g||h}function i(a){var b=m;u.control=m=!1,b&&(u.flow=!1),!b||s&&!u.checked||(a&&a.preventDefault(),ib=!0,clearTimeout(jb),jb=setTimeout(function(){ib=!1},1e3),(e.onEnd||f).call(t,{moved:u.checked,$target:o,control:p,touch:q,startEvent:n,aborted:!a}))}function j(){clearTimeout(l),l=setTimeout(function(){u.flow=!0},10)}function k(){clearTimeout(l),l=setTimeout(function(){u.flow=!1},Bc)}var l,m,n,o,p,q,r,s,t=d[0],u={};return Ac?(t[Mc]("MSPointerDown",g),b[Mc]("MSPointerMove",h),b[Mc]("MSPointerCancel",i),b[Mc]("MSPointerUp",i)):(t[Mc]&&(t[Mc]("touchstart",g),t[Mc]("touchmove",h),t[Mc]("touchend",i),b[Mc]("touchstart",j),b[Mc]("touchend",k),a[Mc]("scroll",k)),d.on("mousedown",g),sc.on("mousemove",h).on("mouseup",i)),d.on("click","a",function(a){u.checked&&a.preventDefault()}),u}function U(a,b){function d(d){k=l=d._x,q=c.now(),p=[[q,k]],m=n=C.noMove?0:s(a,b.getPos&&b.getPos(),b._001),(b.onStart||f).call(A,d)}function e(a,b){t=B.min,v=B.max,w=B.snap,x=a.altKey,z=!1,y=b.control,y||d(a)}function h(e,g){y&&(y=!1,d(e)),C.noSwipe||(l=e._x,p.push([c.now(),l]),n=m-(k-l),o=H(n,t,v),t>=n?n=u(n,t):n>=v&&(n=u(n,v)),C.noMove||(a.css(j(n,b._001)),z||(z=!0,g.touch||Ac||a.addClass(fc)),(b.onMove||f).call(A,e,{pos:n,edge:o})))}function i(d){if(!y){d.touch||Ac||a.removeClass(fc),r=(new Date).getTime();for(var e,h,i,j,k,o,q,s,u,z=r-Bc,B=null,C=Cc,D=b.friction,E=p.length-1;E>=0;E--){if(e=p[E][0],h=Math.abs(e-z),null===B||i>h)B=e,j=p[E][1];else if(B===z||h>i)break;i=h}q=g(n,t,v);var F=j-l,G=F>=0,H=r-B,I=H>Bc,J=!I&&n!==m&&q===n;w&&(q=g(Math[J?G?"floor":"ceil":"round"](n/w)*w,t,v),t=v=q),J&&(w||q===n)&&(u=-(F/H),C*=g(Math.abs(u),b.timeLow,b.timeHigh),k=Math.round(n+u*C/D),w||(q=k),(!G&&k>v||G&&t>k)&&(o=G?t:v,s=k-o,w||(q=o),s=g(q+.03*s,o-50,o+50),C=Math.abs((n-s)/(u/D)))),C*=x?10:1,(b.onEnd||f).call(A,c.extend(d,{pos:n,newPos:q,overPos:s,time:C,moved:I&&w||d.moved}))}}var k,l,m,n,o,p,q,r,t,v,w,x,y,z,A=a[0],B=a.data(),C={};return C=c.extend(T(b.$wrap,{onStart:e,onMove:h,onEnd:i,select:b.select,control:b.control}),C)}function V(a){W(!0),Nc.appendTo(a),lb=0,Oc(),kb=setInterval(Oc,200)}function W(a){a||Nc.detach(),clearInterval(kb)}function X(){c.each(c.Fotorama.instances,function(a,b){b.index=a})}function Y(a){c.Fotorama.instances.push(a),X()}function Z(a){c.Fotorama.instances.splice(a.index,1),X()}var $={},_=function(a,b,c){function d(a){r.cssText=a}function e(a,b){return typeof a===b}function f(a,b){return!!~(""+a).indexOf(b)}function g(a,b){for(var d in a){var e=a[d];if(!f(e,"-")&&r[e]!==c)return"pfx"==b?e:!0}return!1}function h(a,b,d){for(var f in a){var g=b[a[f]];if(g!==c)return d===!1?a[f]:e(g,"function")?g.bind(d||b):g}return!1}function i(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),f=(a+" "+u.join(d+" ")+d).split(" ");return e(b,"string")||e(b,"undefined")?g(f,b):(f=(a+" "+v.join(d+" ")+d).split(" "),h(f,b,c))}var j,k,l,m="2.6.2",n={},o=b.documentElement,p="modernizr",q=b.createElement(p),r=q.style,s=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),t="Webkit Moz O ms",u=t.split(" "),v=t.toLowerCase().split(" "),w={},x=[],y=x.slice,z=function(a,c,d,e){var f,g,h,i,j=b.createElement("div"),k=b.body,l=k||b.createElement("body");if(parseInt(d,10))for(;d--;)h=b.createElement("div"),h.id=e?e[d]:p+(d+1),j.appendChild(h);return f=["&#173;",'<style id="s',p,'">',a,"</style>"].join(""),j.id=p,(k?j:l).innerHTML+=f,l.appendChild(j),k||(l.style.background="",l.style.overflow="hidden",i=o.style.overflow,o.style.overflow="hidden",o.appendChild(l)),g=c(j,a),k?j.parentNode.removeChild(j):(l.parentNode.removeChild(l),o.style.overflow=i),!!g},A={}.hasOwnProperty;l=e(A,"undefined")||e(A.call,"undefined")?function(a,b){return b in a&&e(a.constructor.prototype[b],"undefined")}:function(a,b){return A.call(a,b)},Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=y.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var f=new e,g=b.apply(f,c.concat(y.call(arguments)));return Object(g)===g?g:f}return b.apply(a,c.concat(y.call(arguments)))};return d}),w.csstransforms3d=function(){var a=!!i("perspective");return a};for(var B in w)l(w,B)&&(k=B.toLowerCase(),n[k]=w[B](),x.push((n[k]?"":"no-")+k));return n.addTest=function(a,b){if("object"==typeof a)for(var d in a)l(a,d)&&n.addTest(d,a[d]);else{if(a=a.toLowerCase(),n[a]!==c)return n;b="function"==typeof b?b():b,"undefined"!=typeof enableClasses&&enableClasses&&(o.className+=" "+(b?"":"no-")+a),n[a]=b}return n},d(""),q=j=null,n._version=m,n._prefixes=s,n._domPrefixes=v,n._cssomPrefixes=u,n.testProp=function(a){return g([a])},n.testAllProps=i,n.testStyles=z,n.prefixed=function(a,b,c){return b?i(a,b,c):i(a,"pfx")},n}(a,b),ab={ok:!1,is:function(){return!1},request:function(){},cancel:function(){},event:"",prefix:""},bb="webkit moz o ms khtml".split(" ");if("undefined"!=typeof b.cancelFullScreen)ab.ok=!0;else for(var cb=0,db=bb.length;db>cb;cb++)if(ab.prefix=bb[cb],"undefined"!=typeof b[ab.prefix+"CancelFullScreen"]){ab.ok=!0;break}ab.ok&&(ab.event=ab.prefix+"fullscreenchange",ab.is=function(){switch(this.prefix){case"":return b.fullScreen;case"webkit":return b.webkitIsFullScreen;default:return b[this.prefix+"FullScreen"]}},ab.request=function(a){return""===this.prefix?a.requestFullScreen():a[this.prefix+"RequestFullScreen"]()},ab.cancel=function(){return""===this.prefix?b.cancelFullScreen():b[this.prefix+"CancelFullScreen"]()});var eb,fb,gb,hb,ib,jb,kb,lb,mb="fotorama",nb="fullscreen",ob=mb+"__wrap",pb=ob+"--css3",qb=ob+"--video",rb=ob+"--fade",sb=ob+"--slide",tb=ob+"--no-controls",ub=ob+"--no-shadows",vb=ob+"--pan-y",wb=mb+"__stage",xb=wb+"__frame",yb=xb+"--video",zb=wb+"__shaft",Ab=wb+"--only-active",Bb=mb+"__grab",Cb=mb+"__pointer",Db=mb+"__arr",Eb=Db+"--disabled",Fb=Db+"--prev",Gb=Db+"--next",Hb=Db+"__arr",Ib=mb+"__nav",Jb=Ib+"-wrap",Kb=Ib+"__shaft",Lb=Ib+"--dots",Mb=Ib+"--thumbs",Nb=Ib+"__frame",Ob=Nb+"--dot",Pb=Nb+"--thumb",Qb=mb+"__fade",Rb=Qb+"-front",Sb=Qb+"-rear",Tb=mb+"__shadow",Ub=Tb+"s",Vb=Ub+"--left",Wb=Ub+"--right",Xb=mb+"__active",Yb=mb+"__select",Zb=mb+"--hidden",$b=mb+"--fullscreen",_b=mb+"__fullscreen-icon",ac=mb+"__error",bc=mb+"__loading",cc=mb+"__loaded",dc=cc+"--full",ec=cc+"--img",fc=mb+"__grabbing",gc=mb+"__img",hc=gc+"--full",ic=mb+"__dot",jc=mb+"__thumb",kc=jc+"-border",lc=mb+"__html",mc=mb+"__video",nc=mc+"-play",oc=mc+"-close",pc=mb+"__caption",qc=mb+"__oooo",rc=c(a),sc=c(b),tc="quirks"===location.hash.replace("#",""),uc=_.csstransforms3d,vc=uc&&!tc,wc=uc||"CSS1Compat"===b.compatMode,xc=ab.ok,yc=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),zc=!vc||yc,Ac=a.navigator.msPointerEnabled,Bc=250,Cc=300,Dc=5e3,Ec=2,Fc=64,Gc=500,Hc=333,Ic="$stageFrame",Jc="$navDotFrame",Kc="$navThumbFrame",Lc=e([.1,0,.25,1]),Mc="addEventListener",Nc=c(K("",K(qc))),Oc=function(){Nc.attr("class",qc+" "+qc+"--"+lb),lb++,lb>4&&(lb=0)};jQuery.Fotorama=function(a,e){function h(){c.each(ad,function(a,b){if(!b.i){b.i=Ld++;var c=x(b.video,!0);if(c){var d={};b.video=c,b.img||b.thumb?b.thumbsReady=!0:d=y(b,ad,Hd),z(ad,{img:d.img,thumb:d.thumb},b.i,Hd)}}})}function i(a){var b="keydown."+mb,c="keydown."+mb+Id,d="resize."+mb+Id;a?(sc.on(c,function(a){dd&&27===a.keyCode?(a.preventDefault(),Uc(dd,!0,!0)):(Hd.fullScreen||e.keyboard&&!Hd.index)&&(27===a.keyCode?(a.preventDefault(),Hd.cancelFullScreen()):39===a.keyCode||40===a.keyCode&&Hd.fullScreen?(a.preventDefault(),Hd.show({index:">",slow:a.altKey,direct:!0})):(37===a.keyCode||38===a.keyCode&&Hd.fullScreen)&&(a.preventDefault(),Hd.show({index:"<",slow:a.altKey,direct:!0})))}),Hd.index||sc.off(b).on(b,"textarea, input, select",function(a){!fb.hasClass(nb)&&a.stopPropagation()}),rc.on(d,Hd.resize)):(sc.off(c),rc.off(d))}function j(b){b!==j.f&&(b?(a.html("").addClass(Jd).append(Pd).before(Nd).before(Od),Y(Hd)):(Pd.detach(),Nd.detach(),Od.detach(),a.html(Md.urtext).removeClass(Jd),Z(Hd)),i(b),j.f=b)}function q(){ad=Hd.data=ad||M(e.data)||A(a),bd=Hd.size=ad.length,!_c.ok&&e.shuffle&&L(ad),h(),he=S(he),bd&&j(!0)}function r(){var a=2>bd||dd;ke.noMove=a||sd,ke.noSwipe=a||!e.swipe,Rd.toggleClass(Bb,!ke.noMove&&!ke.noSwipe),Ac&&Pd.toggleClass(vb,!ke.noSwipe)}function u(a){a===!0&&(a=""),e.autoplay=Math.max(+a||Dc,1.5*vd)}function v(a){return a?"add":"remove"}function w(){Hd.options=e=O(e),sd="crossfade"===e.transition||"dissolve"===e.transition,md=e.loop&&(bd>2||sd),vd=+e.transitionduration||Cc;var a={add:[],remove:[]};bd>1?(nd=e.nav,pd="top"===e.navposition,a.remove.push(Yb),Vd.toggle(e.arrows),Tb()):(nd=!1,Vd.hide()),e.autoplay&&u(e.autoplay),td=l(e.thumbwidth)||Fc,ud=l(e.thumbheight)||Fc,r(),Mc(e,!0),od="thumbs"===nd,od?(ib(bd,"navThumb"),cd=$d,Gd=Kc,G(Nd,c.Fotorama.jst.style({w:td,h:ud,m:Ec,s:Id,q:!wc})),Xd.addClass(Mb).removeClass(Lb)):"dots"===nd?(ib(bd,"navDot"),cd=Zd,Gd=Jc,Xd.addClass(Lb).removeClass(Mb)):(nd=!1,Xd.removeClass(Mb+" "+Lb)),nd&&(pd?Wd.insertBefore(Qd):Wd.insertAfter(Qd),Qb.nav=!1,Qb(cd,Yd,"nav")),qd=e.allowfullscreen,qd?(ce.appendTo(Qd),rd=xc&&"native"===qd):(ce.detach(),rd=!1),a[v(sd)].push(rb),a[v(!sd)].push(sb),wd=e.shadows&&!zc,a[v(!wd)].push(ub),W(),Pd.addClass(a.add.join(" ")).removeClass(a.remove.join(" ")),ie=c.extend({},e)}function B(a){return 0>a?(bd+a%bd)%bd:a>=bd?a%bd:a}function S(a){return g(a,0,bd-1)}function T(a){return md?B(a):S(a)}function X(a){return a>0||md?a-1:!1}function $(a){return bd-1>a||md?a+1:!1}function _(){_d.min=md?-1/0:-o(bd-1,je.w,Ec,gd),_d.max=md?1/0:-o(0,je.w,Ec,gd),_d.snap=je.w+Ec}function bb(){ae.min=Math.min(0,je.w-Yd.width()),ae.max=0,Yd.toggleClass(Bb,!(le.noMove=ae.min===ae.max))}function cb(a,b,d){if("number"==typeof a){a=new Array(a);var e=!0}return c.each(a,function(a,c){if(e&&(c=a),"number"==typeof c){var f=ad[B(c)];if(f){var g="$"+b+"Frame",h=f[g];d.call(this,a,c,f,h,g,h&&h.data())}}})}function db(a,b,c,d){(!xd||"*"===xd&&d===ld)&&(a=n(e.width)||n(a)||Gc,b=n(e.height)||n(b)||Hc,Hd.resize({width:a,ratio:e.ratio||c||a/b},0,d===ld?!0:"*"))}function gb(a,b,d,f,g){cb(a,b,function(a,h,i,j,k,l){function m(a){var b=B(h);Nc(a,{index:b,src:v,frame:ad[b]})}function n(){s.remove(),c.Fotorama.cache[v]="error",i.html&&"stage"===b||!w||w===v?(v&&!i.html?(j.trigger("f:error").removeClass(bc).addClass(ac),m("error")):"stage"===b&&(j.trigger("f:load").removeClass(bc+" "+ac).addClass(cc),m("load"),db()),l.state="error",!(bd>1)||i.html||i.deleted||i.video||q||(i.deleted=!0,Hd.splice(h,1))):(i[u]=v=w,gb([h],b,d,f,!0))}function o(){var a=r.width,g=r.height,k=a/g;t.measures={width:a,height:g,ratio:k},db(a,g,k,h),s.off("load error").addClass(gc+(q?" "+hc:"")).prependTo(j),F(s,d||je,f||i.fit||e.fit),c.Fotorama.cache[v]="loaded",l.state="loaded",setTimeout(function(){j.trigger("f:load").removeClass(bc+" "+ac).addClass(cc+" "+(q?dc:ec)),"stage"===b&&m("load")},5)}function p(){var a=10;D(function(){return!Ed||!a--&&!zc},function(){o()})}if(j){var q=Hd.fullScreen&&i.full&&!l.$full&&"stage"===b;if(!l.$img||g||q){var r=new Image,s=c(r),t=s.data();l[q?"$full":"$img"]=s;var u="stage"===b?q?"full":"img":"thumb",v=i[u],w=q?null:i["stage"===b?"thumb":"img"];if("navThumb"===b&&(j=l.$wrap),!v)return n(),void 0;c.Fotorama.cache[v]?function x(){"error"===c.Fotorama.cache[v]?n():"loaded"===c.Fotorama.cache[v]?setTimeout(p,0):setTimeout(x,100)}():(c.Fotorama.cache[v]="*",s.on("load",p).on("error",n)),r.src=v}}})}function hb(){var a=Hd.activeFrame[Ic];a&&!a.data().state&&(V(a),a.on("f:load f:error",function(){a.off("f:load f:error"),W()}))}function ib(a,b){cb(a,b,function(a,d,f,g,h,i){g||(g=f[h]=Pd[h].clone(),i=g.data(),i.data=f,"stage"===b?(f.html&&c('<div class="'+lc+'"></div>').append(f._html?c(f.html).removeAttr("id").html(f._html):f.html).appendTo(g),e.captions&&f.caption&&c('<div class="'+pc+'"></div>').append(f.caption).appendTo(g),f.video&&g.addClass(yb).append(ee.clone()),Sd=Sd.add(g)):"navDot"===b?Zd=Zd.add(g):"navThumb"===b&&(i.$wrap=g.children(":first"),$d=$d.add(g),f.video&&g.append(ee.clone())))})}function jb(a,b,c){return a&&a.length&&F(a,b,c)}function kb(a){cb(a,"stage",function(a,b,d,f,g,h){if(f){ne[Ic][B(b)]=f.css(c.extend({left:sd?0:o(b,je.w,Ec,gd)},sd&&k(0))),C(f[0])&&(f.appendTo(Rd),Uc(d.$video));var i=d.fit||e.fit;jb(h.$img,je,i),jb(h.$full,je,i)}})}function lb(a,b){if("thumbs"===nd&&!isNaN(a)){var d=-a,e=-a+je.w;$d.each(function(){var a=c(this),f=a.data(),g=f.eq,h={h:ud},i="cover";h.w=f.w,f.l+f.w<d||f.l>e||jb(f.$img,h,i)||b&&gb([g],"navThumb",h,i)})}}function Qb(a,b,d){if(!Qb[d]){var e="nav"===d&&od,f=0;b.append(a.filter(function(){for(var a,b=c(this),d=b.data(),e=0,f=ad.length;f>e;e++)if(d.data===ad[e]){a=!0,d.eq=e;break}return a||b.remove()&&!1}).sort(function(a,b){return c(a).data().eq-c(b).data().eq}).each(function(){if(e){var a=c(this),b=a.data(),d=Math.round(ud*b.data.thumbratio)||td;b.l=f,b.w=d,a.css({width:d}),f+=d+Ec}})),Qb[d]=!0}}function Rb(a){return a-oe>je.w/3}function Sb(a){return!(md||he+a&&he-bd+a||dd)}function Tb(){Vd.each(function(a){c(this).toggleClass(Eb,Sb(a))})}function fc(a){var b,c,d=a.data();return od?(b=d.l,c=d.w):(b=a.position().left,c=a.width()),{c:b+c/2,min:-b+10*Ec,max:-b+je.w-c-10*Ec}}function mc(a){var b=Hd.activeFrame[Gd].data();Q(be,{time:.9*a,pos:b.l,width:b.w-2*Ec})}function qc(a){var b=ad[a.guessIndex][Gd];if(b){var c=ae.min!==ae.max,d=c&&fc(Hd.activeFrame[Gd]),e=c&&(a.keep&&qc.l?qc.l:g((a.coo||je.w/2)-fc(b).c,d.min,d.max)),f=c&&g(e,ae.min,ae.max),h=.9*a.time;Q(Yd,{time:h,pos:f||0,onEnd:function(){lb(f,!0)}}),h&&lb(f),Tc(Xd,H(f,ae.min,ae.max)),qc.l=e}}function tc(){uc(Gd),me[Gd].push(Hd.activeFrame[Gd].addClass(Xb))}function uc(a){for(var b=me[a];b.length;)b.shift().removeClass(Xb)}function yc(a){var b=ne[a];c.each(fd,function(a,c){delete b[c]}),c.each(b,function(a,c){delete b[a],c.detach()})}function Lc(a){gd=hd=he;var b=Hd.activeFrame,c=b[Ic];c&&(uc(Ic),me[Ic].push(c.addClass(Xb)),a||Hd.show.onEnd(!0),s(Rd,0,!0),yc(Ic),kb(fd),_(),bb())}function Mc(a,b){a&&c.extend(je,{width:a.width||je.width,height:a.height,minwidth:a.minwidth,maxwidth:a.maxwidth,minheight:a.minheight,maxheight:a.maxheight,ratio:P(a.ratio)})&&!b&&c.extend(e,{width:je.width,height:je.height,minwidth:je.minwidth,maxwidth:je.maxwidth,minheight:je.minheight,maxheight:je.maxheight,ratio:je.ratio})}function Nc(b,c,d){a.trigger(mb+":"+b,[Hd,c]),Hd.prevent[b]?delete Hd.prevent[b]:(d||f)()}function Oc(){clearTimeout(Pc.t),Ed=1,e.stopautoplayontouch?Hd.stopAutoplay():Bd=!0}function Pc(){Pc.t=setTimeout(function(){Ed=0},Cc+Bc)}function Qc(){Bd=!(!dd&&!Cd)}function Rc(){if(clearTimeout(Rc.t),!e.autoplay||Bd)return Hd.autoplay&&(Hd.autoplay=!1,Nc("stopautoplay")),void 0;Hd.autoplay||(Hd.autoplay=!0,Nc("startautoplay"));var a=he;Rc.t=setTimeout(function(){var b=Hd.activeFrame[Ic].data();D(function(){return b.state||a!==he},function(){Bd||a!==he||Hd.show(md?">":B(he+1))})},e.autoplay)}function Sc(){Hd.fullScreen&&(Hd.fullScreen=!1,xc&&ab.cancel(Kd),fb.removeClass(nb),eb.removeClass(nb),a.removeClass($b).insertAfter(Od),je=c.extend({},Dd),Uc(dd,!0,!0),Yc("x",!1),Hd.resize(),gb(fd,"stage"),N(zd,yd),Nc("fullscreenexit"))}function Tc(a,b){wd&&(a.removeClass(Vb+" "+Wb),b&&!dd&&a.addClass(b.replace(/^|\s/g," "+Ub+"--")))}function Uc(a,b,c){b&&(Pd.removeClass(qb),dd=!1,r()),a&&a!==dd&&(a.remove(),Nc("unloadvideo")),c&&(Qc(),Rc())}function Vc(a){Pd.toggleClass(tb,a)}function Wc(a){if(!ke.flow){var b=a?a.pageX:Wc.x,c=!Sb(Rb(b))&&e.click;Wc.p===c||!sd&&e.swipe||!Qd.toggleClass(Cb,c)||(Wc.p=c,Wc.x=b)}}function Xc(a,b){var f=a.target,g=c(f);g.hasClass(nc)?Hd.playVideo():f===de?Hd[(Hd.fullScreen?"cancel":"request")+"FullScreen"]():dd?f===ge&&Uc(dd,!0,!0):Nc("stagetap",d,function(){b?Vc():e.click&&Hd.show({index:a.shiftKey||!Rb(a._x)?"<":">",slow:a.altKey,direct:!0})})}function Yc(a,b){ke[a]=le[a]=b}function Zc(a,b){var d=c(this).data().eq;Hd.show({index:d,slow:a.altKey,direct:!0,coo:a._x-Xd.offset().left,time:b})}function $c(){q(),w(),_c.ok||(e.hash&&location.hash&&(ld=I(location.hash.replace(/^#/,""),ad,0===Hd.index)),he=gd=hd=id=ld=T(ld)||0),bd?(dd&&Uc(dd,!0),fd=[],yc(Ic),Hd.show({index:he,time:0}),Hd.resize()):Hd.destroy()}function _c(){_c.ok||(_c.ok=!0,Nc("ready"))}eb=eb||c("html"),fb=fb||c("body");var ad,bd,cd,dd,ed,fd,gd,hd,id,jd,kd,ld,md,nd,od,pd,qd,rd,sd,td,ud,vd,wd,xd,yd,zd,Ad,Bd,Cd,Dd,Ed,Fd,Gd,Hd=this,Id=c.now(),Jd=mb+Id,Kd=a[0],Ld=1,Md=a.data(),Nd=c("<style></style>"),Od=c(K(Zb)),Pd=c(K(ob)),Qd=c(K(wb)).appendTo(Pd),Rd=(Qd[0],c(K(zb)).appendTo(Qd)),Sd=c(),Td=c(K(Db+" "+Fb,K(Hb))),Ud=c(K(Db+" "+Gb,K(Hb))),Vd=Td.add(Ud).appendTo(Qd),Wd=c(K(Jb)),Xd=c(K(Ib)).appendTo(Wd),Yd=c(K(Kb)).appendTo(Xd),Zd=c(),$d=c(),_d=Rd.data(),ae=Yd.data(),be=c(K(kc)).appendTo(Yd),ce=c(K(_b)),de=ce[0],ee=c(K(nc)),fe=c(K(oc)).appendTo(Qd),ge=fe[0],he=!1,ie={},je={},ke={},le={},me={},ne={},oe=0,pe=[];Pd[Ic]=c(K(xb)),Pd[Kc]=c(K(Nb+" "+Pb,K(jc))),Pd[Jc]=c(K(Nb+" "+Ob,K(ic))),me[Ic]=[],me[Kc]=[],me[Jc]=[],ne[Ic]={},Hd.prevent={},vc&&Pd.addClass(pb),Md.fotorama=this,Hd.startAutoplay=function(a){return Hd.autoplay?this:(Bd=Cd=!1,u(a||e.autoplay),Rc(),this)},Hd.stopAutoplay=function(){return Hd.autoplay&&(Bd=Cd=!0,Rc()),this},Hd.show=function(a){var b;"object"!=typeof a?(b=a,a={}):b=a.index,b=">"===b?hd+1:"<"===b?hd-1:"<<"===b?0:">>"===b?bd-1:b,b=isNaN(b)?I(b,ad,!0):b,b="undefined"==typeof b?he||0:b,Hd.activeIndex=he=T(b),jd=X(he),kd=$(he),fd=[he,jd,kd],hd=md?b:he;var c=Math.abs(id-hd),d=t(a.time,function(){return Math.min(vd*(1+(c-1)/12),2*vd)}),f=a.overPos;a.slow&&(d*=10),Hd.activeFrame=ed=ad[he],Uc(dd,ed.i!==ad[B(gd)].i),ib(fd,"stage"),kb([hd,X(hd),$(hd)]),Yc("go",!0),Nc("show",a.direct);var h=Hd.show.onEnd=function(b){h.ok||(h.ok=!0,hb(),gb(fd,"stage"),b||Lc(!0),Nc("showend",a.direct),Yc("go",!1),Wc(),Qc(),Rc())};if(sd){var i=ed[Ic],j=he!==id?ad[id][Ic]:null;R(i,j,Sd,{time:d,method:e.transition,onEnd:h},pe)}else Q(Rd,{pos:-o(hd,je.w,Ec,gd),overPos:f,time:d,onEnd:h,_001:!0});if(Tb(),nd){tc();var k=S(he+g(hd-id,-1,1));qc({time:d,coo:k!==he&&a.coo,guessIndex:"undefined"!=typeof a.coo?k:he}),od&&mc(d)}return Ad="undefined"!=typeof id&&id!==he,id=he,e.hash&&Ad&&!Hd.eq&&E(ed.id||he+1),this},Hd.requestFullScreen=function(){return qd&&!Hd.fullScreen&&(yd=rc.scrollTop(),zd=rc.scrollLeft(),N(0,0),Yc("x",!0),Dd=c.extend({},je),a.addClass($b).appendTo(fb.addClass(nb)),eb.addClass(nb),Uc(dd,!0,!0),Hd.fullScreen=!0,rd&&ab.request(Kd),Hd.resize(),gb(fd,"stage"),Nc("fullscreenenter")),this},Hd.cancelFullScreen=function(){return rd&&ab.is()?ab.cancel(b):Sc(),this},b.addEventListener&&b.addEventListener(ab.event,function(){!ad||ab.is()||dd||Sc()}),Hd.resize=function(a){if(!ad)return this;Mc(Hd.fullScreen?{width:"100%",maxwidth:null,minwidth:null,height:"100%",maxheight:null,minheight:null}:O(a),Hd.fullScreen);var b=arguments[1]||0,c=arguments[2],d=je.width,e=je.height,f=je.ratio,h=rc.height()-(nd?Xd.height():0);return n(d)&&(Pd.css({width:d,minWidth:je.minwidth,maxWidth:je.maxwidth}),d=je.w=Pd.width(),e=m(e)/100*h||l(e),e=e||f&&d/f,e&&(d=Math.round(d),e=je.h=Math.round(g(e,m(je.minheight)/100*h||l(je.minheight),m(je.maxheight)/100*h||l(je.maxheight))),Lc(),Qd.addClass(Ab).stop().animate({width:d,height:e},b,function(){Qd.removeClass(Ab)}),nd&&(Xd.stop().animate({width:d},b),qc({guessIndex:he,time:b,keep:!0}),od&&Qb.nav&&mc(b)),xd=c||!0,_c())),oe=Qd.offset().left,this},Hd.setOptions=function(a){return c.extend(e,a),$c(),this},Hd.shuffle=function(){return ad&&L(ad)&&$c(),this},Hd.destroy=function(){return Hd.cancelFullScreen(),Hd.stopAutoplay(),ad=Hd.data=null,j(),fd=[],yc(Ic),this},Hd.playVideo=function(){var a=Hd.activeFrame,b=a.video,d=he;return"object"==typeof b&&a.videoReady&&(rd&&Hd.fullScreen&&Hd.cancelFullScreen(),D(function(){return!ab.is()||d!==he},function(){d===he&&(a.$video=a.$video||c(c.Fotorama.jst.video(b)),a.$video.appendTo(a[Ic]),Pd.addClass(qb),dd=a.$video,r(),Nc("loadvideo"))})),this},Hd.stopVideo=function(){return Uc(dd,!0,!0),this},Qd.on("mousemove",Wc),ke=U(Rd,{onStart:Oc,onMove:function(a,b){Tc(Qd,b.edge)},onEnd:function(a){Tc(Qd),Pc();var b=(Ac&&!Fd||a.touch)&&e.arrows;if(a.moved||b&&a.pos!==a.newPos){var c=p(a.newPos,je.w,Ec,gd);Hd.show({index:c,time:sd?vd:a.time,overPos:a.overPos,direct:!0})}else a.aborted||Xc(a.startEvent,b)},getPos:function(){return-o(hd,je.w,Ec,gd)},_001:!0,timeLow:1,timeHigh:1,friction:2,select:"."+Yb+", ."+Yb+" *",$wrap:Qd}),le=U(Yd,{onStart:Oc,onMove:function(a,b){Tc(Xd,b.edge)},onEnd:function(a){function b(){qc.l=a.newPos,Qc(),Rc(),lb(a.newPos,!0)}if(Pc(),a.moved)a.pos!==a.newPos?(Q(Yd,{time:a.time,pos:a.newPos,overPos:a.overPos,onEnd:b}),lb(a.newPos),Tc(Xd,H(a.newPos,ae.min,ae.max))):b();else{var c=a.$target.closest("."+Nb,Yd)[0];c&&Zc.call(c,a.startEvent)}},timeLow:.5,timeHigh:2,friction:5,$wrap:Xd}),Pd.hover(function(){setTimeout(function(){Ed||(Fd=!0,Vc(!Fd))},0)},function(){Fd&&(Fd=!1,Vc(!Fd))}),J(Vd,function(a){a.preventDefault(),dd?Uc(dd,!0,!0):(Pc(),Hd.show({index:Vd.index(this)?">":"<",slow:a.altKey,direct:!0}))},{onStart:function(){Oc(),ke.control=!0},tail:ke}),c.each("load push pop shift unshift reverse sort splice".split(" "),function(a,b){Hd[b]=function(){return ad=ad||[],"load"!==b?Array.prototype[b].apply(ad,arguments):arguments[0]&&"object"==typeof arguments[0]&&arguments[0].length&&(ad=arguments[0]),$c(),Hd}}),$c()},c.fn.fotorama=function(a){return this.each(function(){var b=this,d=c(this),e=d.data(),f=e.fotorama;f?f.setOptions(a):D(function(){return!B(b)},function(){e.urtext=d.html(),new c.Fotorama(d,c.extend({},{width:null,minwidth:null,maxwidth:"100%",height:null,minheight:null,maxheight:null,ratio:null,nav:"dots",navposition:"bottom",thumbwidth:Fc,thumbheight:Fc,arrows:!0,click:!0,swipe:!0,allowfullscreen:!1,fit:"contain",transition:"slide",transitionduration:Cc,captions:!0,hash:!1,autoplay:!1,stopautoplayontouch:!0,keyboard:!1,loop:!1,shuffle:!1,shadows:!0},a,e))})})},c.Fotorama.instances=[],c.Fotorama.cache={},c=c||{},c.Fotorama=c.Fotorama||{},c.Fotorama.jst=c.Fotorama.jst||{},c.Fotorama.jst.style=function(a){var b,c="";return $.escape,c+=".fotorama"+(null==(b=a.s)?"":b)+" .fotorama__nav--thumbs .fotorama__nav__frame{\npadding:"+(null==(b=a.m)?"":b)+"px;\nheight:"+(null==(b=a.h)?"":b)+"px}\n.fotorama"+(null==(b=a.s)?"":b)+" .fotorama__thumb-border{\nheight:"+(null==(b=a.h-a.m*(a.q?0:2))?"":b)+"px;\nborder-width:"+(null==(b=a.m)?"":b)+"px;\nmargin-top:"+(null==(b=a.m)?"":b)+"px}"},c.Fotorama.jst.video=function(a){function b(){c+=d.call(arguments,"")}var c="",d=($.escape,Array.prototype.join);return c+='<div class="fotorama__video"><iframe src="',b("youtube"==a.type?"http://youtube.com/embed/"+a.id+"?autoplay=1":"vimeo"==a.type?"http://player.vimeo.com/video/"+a.id+"?autoplay=1&amp;badge=0":a.id),c+='" frameborder="0" allowfullscreen></iframe></div>'},c(function(){c("."+mb+':not([data-auto="false"])').fotorama()})}(window,document,jQuery);